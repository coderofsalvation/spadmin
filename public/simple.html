<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="nl" lang="nl">
<head>
  <title></title>
  <meta name="description" content="" />
  <meta name="keywords" content="" />
  <meta http-equiv="Content-Type" content="text/html; charset=UTF8" />
  <meta http-equiv="Content-Language" content="nl" />
  <meta name="MSSmartTagsPreventParsing" content="true" />

  <meta name="publisher" content="Your title" />
  <meta name="author" content="Your title.org &amp; leon.vankammen.eu" />
  <meta name="copyright" content="Copyright &#169; Your title.org &amp; Coder of salvation 2010" />
  <style type="text/css">
    .template { display: none }
  </style>

  <script type="text/javascript" src="dist/spadmin.min.js"></script>

</head>
  <body>
    <!-- menu -->
    <ul id="menu">
      <h2 class="title"></h2>
      <li><a href="/notfound">/notfound</a></li>
      <div class="items">
        <li><a href="#" class="item"></a></li>
      </div>
    </ul>

    <!-- page -->
    <div id="page"></div>

    <!-- templates -->
    <div id="viewUsers" class="template">
      <h2 class="title"></h2>
      <table>
        <thead>
          <tr>
            <th>Name</th>
            <th>Email</th>
          </tr>
        </thead>
        <tbody class="users">
          <tr>
            <td class="name"></td>
            <td class="email"></td>
          </tr>
        </tbody>
      </table>
    </div>

    <script type="text/javascript">
      
      var spadmin = new Spadmin({
        content: '#page',   
        apiurl: 'http://localhost:3000'
      })

      spadmin.render( '#menu', [{
        title: "Menu", 
        items: [
          {item: "/user/123"}, 
          {item: "/users"} 
        ]
      },{
        items: {
          item: {
            href: function(params){ console.dir({params:params, this: this}); return params.element.innerHTML; }
          }
        }
      }])

      /*
       * custom routing + pages
       */
      var pages = {

        viewUser: function () { 
          spadmin.renderPage( '/viewUser.html',  {
            title:"View user", 
            name: "John Doe", 
            email: "john@doe.com"
          })
        }, 

        viewUsers: function () { 
          spadmin.renderPage( '#viewUsers', { 
            title: "View users", 
            users: [
              { name: "John Doe", email: "john@doe.com"}, 
              { name: "Foo Bar",  email: "foo@bar.com"}
            ]
          })
        }, 

      }

      spadmin.page('/user/:user', pages.viewUser  )
      spadmin.page('/users',      pages.viewUsers )
      spadmin.page('*',           function(){ alert("not found"); } )

    </script>

  </body>
</html>
